(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function l(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=l(e);fetch(e.href,i)}})();const N=["U","D","R","L","F","B"],$=["","2","'"],A={U:0,D:0,R:1,L:1,F:2,B:2};function k(t){let o="";do{const e=Math.floor(Math.random()*N.length);o=N[e]}while(t&&A[o]===A[t]);const l=Math.floor(Math.random()*$.length),s=$[l];return o+s}function j(t=21){const o=[];let l=null;for(let s=0;s<t;s++){const e=k(l);o.push(e),l=e.charAt(0)}return o.join(" ")}let d="stopped",H=0,S=null,B=0;const n=[];let m;function g(t){const o=Math.floor(t/10),l=o%100,s=Math.floor(o/100),e=s%60,i=Math.floor(s/60),u=l.toString().padStart(2,"0"),r=e.toString().padStart(2,"0");return i>0?`${i}:${r}.${u}`:`${e}.${u}`}function G(){B=Date.now()-H,m&&(m.textContent=g(B))}function U(){d==="ready"&&(d="running",H=Date.now(),S=window.setInterval(G,10),m.classList.remove("timer-ready"),m.classList.add("timer-running"))}function q(){if(d!=="running")return null;d="stopped",S&&(clearInterval(S),S=null);const t=B;return n.unshift(t),n.length>100&&n.pop(),m.classList.remove("timer-running"),t}function w(){d!=="running"&&(d="stopped",B=0,m&&(m.textContent=g(0),m.classList.remove("timer-ready","timer-running")))}function b(){return d==="running"?(q(),"stopped"):d==="stopped"?(d="ready",m.classList.add("timer-ready"),"ready"):null}function M(){return d==="ready"?(U(),"started"):null}function T(){return d}function K(t){m=t,w()}const J=document.getElementById("scramble"),X=document.getElementById("timer"),x=document.getElementById("times-list"),_=document.getElementById("startButton"),z=document.getElementById("resetButton"),Q=document.getElementById("generateButton"),V=document.getElementById("clearAllButton"),E=document.getElementById("best-time"),v=document.getElementById("avg-last5"),L=document.getElementById("avg-global"),D=document.getElementById("ao5"),P=document.getElementById("ao12"),I=document.getElementById("count-times");function y(){const t=j(21);J.textContent=t,w()}function p(){if(x.innerHTML="",n.length===0){x.innerHTML='<li class="list-group-item text-muted">Nenhum tempo registrado ainda.</li>',E&&(E.textContent="-"),v&&(v.textContent="-"),L&&(L.textContent="-"),I&&(I.textContent="0"),localStorage.setItem("times",JSON.stringify(n));return}n.forEach((r,a)=>{const c=document.createElement("li");c.className="list-group-item d-flex justify-content-between align-items-center";const f=g(r);c.innerHTML=`<div class="d-flex align-items-center gap-3"><span>#${n.length-a}</span> <strong>${f}</strong></div>`;const h=document.createElement("button");h.type="button",h.className="btn btn-sm btn-outline-danger",h.title="Excluir este tempo",h.innerText="✕",h.addEventListener("click",R=>{R.stopPropagation();const O=n.indexOf(r);O!==-1&&(n.splice(O,1),localStorage.setItem("times",JSON.stringify(n)),p())}),x.appendChild(c),c.appendChild(h)});const t=n.length,o=Math.min(...n),l=n.slice(0,5),s=Math.round(l.reduce((r,a)=>r+a,0)/l.length),e=Math.round(n.reduce((r,a)=>r+a,0)/n.length);let i=null;if(n.length>=5){const r=n.slice(0,5).slice();r.sort((c,f)=>c-f);const a=r.slice(1,4);i=Math.round(a.reduce((c,f)=>c+f,0)/a.length)}let u=null;if(n.length>=12){const r=n.slice(0,12).slice();r.sort((c,f)=>c-f);const a=r.slice(1,11);u=Math.round(a.reduce((c,f)=>c+f,0)/a.length)}E&&(E.textContent=g(o)),v&&(v.textContent=g(s)),L&&(L.textContent=g(e)),D&&(D.textContent=i!=null?g(i):"-"),P&&(P.textContent=u!=null?g(u):"-"),I&&(I.textContent=String(t)),localStorage.setItem("times",JSON.stringify(n))}let C=!1;window.addEventListener("keydown",t=>{t.code==="Space"&&(t.preventDefault(),C||(b()==="stopped"&&(y(),p()),C=!0))});window.addEventListener("keyup",t=>{t.code==="Space"&&(M(),p(),C=!1)});J.addEventListener("click",()=>{T()!=="running"&&y()});_?.addEventListener("click",()=>{const t=T();t==="running"?b()==="stopped"&&(y(),p()):(t==="ready"||b(),M())});z?.addEventListener("click",()=>{w(),p()});Q?.addEventListener("click",()=>{T()!=="running"&&y()});V?.addEventListener("click",()=>{confirm("Limpar todos os tempos? Esta ação não pode ser desfeita.")&&(n.length=0,localStorage.removeItem("times"),p())});K(X);const F=localStorage.getItem("times");if(F)try{const t=JSON.parse(F);n.length=0,t.slice(0,100).forEach(o=>n.push(o))}catch{}y();p();
